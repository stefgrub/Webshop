<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments :: head('Katalog')}"></head>
<body>
<header th:replace="~{fragments :: header}"></header>
<main class="container">
<h1>Entdecke unsere Produkte</h1>
<div class="category-row" th:if="${categories}">
<a class="chip" th:each="c : ${categories}" th:text="${c.name}" th:href="@{/(q=${c.name})}">Kategorie</a>
</div>
<div class="grid">
<article class="card hover glass" th:each="p : ${products}">
<a th:href="@{'/p/' + ${p.slug}}" class="cover-wrap">
<img th:src="${p.imageUrl} ?: '/images/placeholder.png'" alt="Bild" />
</a>
<div class="card-body">
<h3 th:text="${p.name}">Produkt</h3>
<p class="price" th:text="${#numbers.formatDecimal(p.priceCents/100.0,1,'COMMA',2,'POINT')} + ' €'">19,99 €</p>
<form th:action="@{'/cart/add/' + ${p.id}}" method="post" class="inline">
<input type="number" name="qty" min="1" value="1" />
<button type="submit" class="primary">In den Warenkorb</button>
</form>
</div>
</article>
</div>
<div class="pagination" th:if="${products.totalPages > 1}">
<a th:each="i : ${#numbers.sequence(0, products.totalPages-1)}"
th:href="@{/(page=${i}, q=${q})}"
th:text="${i+1}"
th:classappend="${i} == ${products.number} ? 'active' : ''">1</a>
</div>
</main>
<footer th:replace="~{fragments :: footer}"></footer>
</body>
</html>